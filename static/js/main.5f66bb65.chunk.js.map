{"version":3,"sources":["components/Tooltip/Tooltip.js","components/Chart/Areas.js","components/Chart/Chart.js","components/YearRange.js","components/Legend/index.js","components/Legend/Legend.js","components/Layout/index.js","components/Layout/Layout.js","App.js","serviceWorker.js","index.js"],"names":["numberFormat","format","React","createContext","Consumer","Provider","Tooltip_Tooltip","withTooltip","_ref","children","props","Object","objectWithoutProperties","react_default","a","createElement","value","SVGContext","compose","fromRenderProps","withHandlers","handleTooltip","_ref2","margin","xScale","data","year","showTooltip","event","x","localPoint","selectedAge","Math","round","invert","left","tooltipData","find","_ref3","y","age","tooltipLeft","_ref4","width","height","hideTooltip","tooltipOpen","vx_group_es","vx_shape_es","top","bottom","fill","onMouseMove","onMouseLeave","from","to","stroke","strokeWidth","style","pointerEvents","strokeDasharray","tooltipContext","branch","_ref5","renderNothing","menTooltip","withProps","_ref6","yScale","men","womenTooltip","_ref7","women","commonTooltip","_ref8","_ref8$tooltipData","MenTooltipSVG","_ref9","cy","cx","r","MenTooltipHTML","_ref10","vx_tooltip_es","WomenTooltipHTML","_ref11","WomenTooltipSVG","_ref12","TotalTooltipSVG","_ref13","TotalTooltipHTML","_ref14","_ref14$tooltipData","AgeTooltipHTML","_ref15","BirthdayTooltipHTML","_ref16","MenArea","assign","className","curve","curveMonotoneX","WomenArea","CommonArea","enhance","defaultProps","right","withState","withParentSize","asyncToGenerator","regenerator_default","mark","_callee","setData","initial_data","_data","wrap","_context","prev","next","csv","Number","sent","filter","stop","this","_x","apply","arguments","renderComponent","parentHeight","parentWidth","scaleLinear","range","domain","max","map","xScaleYears","totalYearValue","sum","d","vx_grid_es","scale","numTicks","vx_axis_es","tickFormat","label","Areas_CommonArea","Areas_WomenArea","Areas_MenArea","YearRange","onChange","textAlign","target","type","step","min","Legend","Layout","Diagram","Chart","Range","setYear","App","components_Layout","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.5f66bb65.chunk.js","sourcesContent":["import React from \"react\"\r\nimport { Tooltip, withTooltip, localPoint, Bar, Group, Line } from \"@vx/vx\"\r\nimport { withHandlers, compose, fromRenderProps, branch, renderNothing, withProps } from \"recompose\"\r\nimport \"./Tooltip.css\"\r\nimport { format } from \"d3\"\r\n\r\nconst numberFormat = format(\"~s\")\r\n\r\nconst { Consumer, Provider } = React.createContext({})\r\n\r\nexport default withTooltip(({ children, ...props }) => <Provider value={props}>{children}</Provider>)\r\n\r\nexport const SVGContext = compose(\r\n  fromRenderProps(Consumer, props => props),\r\n  withHandlers({\r\n    handleTooltip: ({ margin, xScale, data, year, showTooltip }) => event => {\r\n      const { x } = localPoint(event)\r\n      const selectedAge = Math.round(xScale.invert(x - margin.left))\r\n      const tooltipData = data.find(({ year: y, age }) => y === year && age === selectedAge)\r\n      showTooltip({\r\n        tooltipData,\r\n        tooltipLeft: xScale(selectedAge)\r\n      })\r\n    }\r\n  })\r\n)(({ width, height, margin, hideTooltip, handleTooltip, tooltipOpen, tooltipLeft }) => (\r\n  <Group>\r\n    <Bar\r\n      x={0}\r\n      y={0}\r\n      width={width - margin.left - margin.top}\r\n      height={height - margin.top - margin.bottom}\r\n      fill={\"transparent\"}\r\n      onMouseMove={handleTooltip}\r\n      onMouseLeave={hideTooltip}\r\n    />\r\n    {tooltipOpen && (\r\n      <Line\r\n        from={{ x: tooltipLeft, y: 0 }}\r\n        to={{ x: tooltipLeft, y: height - margin.top - margin.bottom }}\r\n        stroke=\"black\"\r\n        strokeWidth={1}\r\n        style={{ pointerEvents: \"none\" }}\r\n        strokeDasharray=\"2,2\"\r\n      />\r\n    )}\r\n  </Group>\r\n))\r\n\r\nexport const tooltipContext = compose(\r\n  fromRenderProps(Consumer, props => props),\r\n  branch(({ tooltipOpen }) => !tooltipOpen, renderNothing)\r\n)\r\n\r\nconst menTooltip = compose(tooltipContext, withProps(({ yScale, tooltipData: { men } }) => ({ top: yScale(men) })))\r\nconst womenTooltip = compose(\r\n  tooltipContext,\r\n  withProps(({ yScale, tooltipData: { women } }) => ({ top: yScale(women) }))\r\n)\r\nconst commonTooltip = compose(\r\n  tooltipContext,\r\n  withProps(({ yScale, tooltipData: { women, men } }) => ({ top: yScale(women + men) }))\r\n)\r\n\r\nexport const MenTooltipSVG = menTooltip(({ top, tooltipLeft }) => (\r\n  <circle\r\n    cy={top - 1}\r\n    cx={tooltipLeft}\r\n    r={4}\r\n    fill=\"rgba(41, 128, 185, 1.000)\"\r\n    stroke=\"white\"\r\n    strokeWidth={2}\r\n    style={{ pointerEvents: \"none\" }}\r\n  />\r\n))\r\nexport const MenTooltipHTML = menTooltip(({ tooltipData: { men }, margin, tooltipLeft, top }) => (\r\n  <Tooltip top={top + 26} left={tooltipLeft - 5}>\r\n    {numberFormat(men)}\r\n  </Tooltip>\r\n))\r\n\r\nexport const WomenTooltipHTML = womenTooltip(({ tooltipData: { women }, margin, tooltipLeft, top }) => (\r\n  <Tooltip top={top + 26} left={tooltipLeft + 90}>\r\n    {numberFormat(women)}\r\n  </Tooltip>\r\n))\r\nexport const WomenTooltipSVG = womenTooltip(({ top, tooltipLeft }) => (\r\n  <circle\r\n    cy={top - 1}\r\n    cx={tooltipLeft}\r\n    r={4}\r\n    fill=\"rgba(231, 76, 60, 1.000)\"\r\n    stroke=\"white\"\r\n    strokeWidth={2}\r\n    style={{ pointerEvents: \"none\" }}\r\n  />\r\n))\r\n\r\nexport const TotalTooltipSVG = commonTooltip(({ top, tooltipLeft }) => (\r\n  <circle\r\n    cy={top - 1}\r\n    cx={tooltipLeft}\r\n    r={4}\r\n    fill=\"rgba(0, 0, 0, 1.000)\"\r\n    stroke=\"white\"\r\n    strokeWidth={2}\r\n    style={{ pointerEvents: \"none\" }}\r\n  />\r\n))\r\nexport const TotalTooltipHTML = commonTooltip(({ tooltipData: { women, men }, top, margin, tooltipLeft }) => (\r\n  <Tooltip top={top + margin.top - 35} left={tooltipLeft + margin.left - 30}>\r\n    {numberFormat(men + women)}\r\n  </Tooltip>\r\n))\r\n\r\nexport const AgeTooltipHTML = tooltipContext(({ tooltipData, height, margin, tooltipLeft }) => (\r\n  <Tooltip top={height - margin.bottom} left={tooltipLeft + margin.left - 13}>\r\n    {tooltipData.age}\r\n  </Tooltip>\r\n))\r\n\r\nexport const BirthdayTooltipHTML = tooltipContext(({ tooltipData, height, margin, tooltipLeft, year }) => (\r\n  <Tooltip top={margin.top - 20} left={tooltipLeft + margin.left - 23}>\r\n    {year - tooltipData.age}\r\n  </Tooltip>\r\n))\r\n","import React from \"react\"\r\nimport { AreaClosed } from \"@vx/vx\"\r\nimport { curveMonotoneX } from \"d3\"\r\n\r\nexport const MenArea = props => (\r\n  <AreaClosed {...props} className=\"Chart__men-area\" y={({ men }) => props.yScale(men)} curve={curveMonotoneX} />\r\n)\r\n\r\nexport const WomenArea = props => (\r\n  <AreaClosed {...props} className=\"Chart__women-area\" y={({ women }) => props.yScale(women)} curve={curveMonotoneX} />\r\n)\r\n\r\nexport const CommonArea = props => (\r\n  <AreaClosed\r\n    {...props}\r\n    className=\"Chart__common-area\"\r\n    y={({ women, men }) => props.yScale(women + men)}\r\n    curve={curveMonotoneX}\r\n  />\r\n)\r\n","import React from \"react\"\r\nimport { Group, withParentSize, AxisBottom, AxisLeft, GridRows, GridColumns, AxisTop, AxisRight } from \"@vx/vx\"\r\nimport { scaleLinear, csv, max, format, sum } from \"d3\"\r\n\r\nimport { branch, compose, defaultProps, renderComponent, withProps, withState } from \"recompose\"\r\n\r\nimport Tooltip, {\r\n  SVGContext,\r\n  MenTooltipHTML,\r\n  WomenTooltipHTML,\r\n  TotalTooltipHTML,\r\n  MenTooltipSVG,\r\n  WomenTooltipSVG,\r\n  TotalTooltipSVG,\r\n  AgeTooltipHTML,\r\n  BirthdayTooltipHTML\r\n} from \"../Tooltip/Tooltip\"\r\nimport \"./Chart.css\"\r\nimport { CommonArea, MenArea, WomenArea } from \"./Areas\"\r\n\r\nconst Chart = ({\r\n  parentWidth: width,\r\n  parentHeight: height,\r\n  margin,\r\n  data,\r\n\r\n  xScale,\r\n  xScaleYears,\r\n\r\n  yScale,\r\n\r\n  year,\r\n  totalYearValue\r\n}) => (\r\n  <div className=\"Chart\">\r\n    <div className=\"Chart__total-year-value\">Total amount for {year}: {totalYearValue}</div>\r\n    <Tooltip width={width} height={height} margin={margin} xScale={xScale} yScale={yScale} data={data} year={year}>\r\n      <svg width={width} height={height}>\r\n        <Group top={margin.top} left={margin.left}>\r\n          <GridRows scale={yScale} width={width - margin.left - margin.right} />\r\n          <GridColumns numTicks={20} scale={xScale} height={height - margin.top - margin.bottom} />\r\n\r\n          <AxisTop numTicks={20} scale={xScaleYears} top={0} tickFormat={format(\"\")} />\r\n          <AxisBottom numTicks={20} scale={xScale} top={height - margin.bottom - margin.top} label=\"Age\" />\r\n          <AxisLeft scale={yScale} label=\"Population\" tickFormat={format(\"~s\")} />\r\n          <AxisRight\r\n            left={width - margin.left - margin.right}\r\n            scale={yScale}\r\n            label=\"Population\"\r\n            tickFormat={format(\"~s\")}\r\n          />\r\n\r\n          <CommonArea data={data} yScale={yScale} x={({ age }) => xScale(age)} />\r\n          <WomenArea data={data} yScale={yScale} x={({ age }) => xScale(age)} />\r\n          <MenArea data={data} yScale={yScale} x={({ age }) => xScale(age)} />\r\n\r\n          <SVGContext />\r\n          <MenTooltipSVG />\r\n          <WomenTooltipSVG />\r\n          <TotalTooltipSVG />\r\n        </Group>\r\n      </svg>\r\n\r\n      <AgeTooltipHTML />\r\n      <BirthdayTooltipHTML />\r\n\r\n      <MenTooltipHTML />\r\n      <WomenTooltipHTML />\r\n      <TotalTooltipHTML />\r\n    </Tooltip>\r\n  </div>\r\n)\r\n\r\nconst enhance = compose(\r\n  defaultProps({\r\n    margin: { top: 40, bottom: 40, left: 80, right: 40 },\r\n    year: 1989\r\n  }),\r\n  withState(\"data\", \"setData\"),\r\n  withParentSize,\r\n  withProps(async ({ data, setData }) => {\r\n    if (!data) {\r\n      const initial_data = await csv(\"population_by_age_sex_year.csv\", ({ age, men, women, year }) => ({\r\n        age: Number(age),\r\n        men: Number(men),\r\n        women: Number(women),\r\n        year: Number(year)\r\n      }))\r\n      const data = initial_data.filter(({ age }) => age >= 0)\r\n      setData(data)\r\n    }\r\n  }),\r\n  branch(({ data }) => !data, renderComponent(() => \"Loading...\")),\r\n\r\n  withProps(({ data, parentHeight: height, parentWidth: width, margin }) => ({\r\n    yScale: scaleLinear()\r\n      .range([height - margin.top - margin.bottom, 0])\r\n      .domain([0, max(data.map(({ men, women }) => men + women)) + 100000])\r\n  })),\r\n  withProps(({ data, year }) => ({ data: data.filter(data => data.year === year) })),\r\n  withProps(({ data, parentWidth: width, margin, year }) => ({\r\n    xScale: scaleLinear()\r\n      .range([0, width - margin.left - margin.right])\r\n      .domain([0, 79]),\r\n\r\n    xScaleYears: scaleLinear()\r\n      .range([0, width - margin.left - margin.right])\r\n      .domain([year, year - 79]),\r\n    totalYearValue: sum(data, d => d.men + d.women)\r\n  }))\r\n)\r\n\r\nexport default enhance(Chart)\r\n","import React from \"react\"\r\n\r\nconst YearRange = ({ onChange, value }) => (\r\n    <div style={{ textAlign: \"center\" }}>\r\n      <h4>{value}</h4>\r\n      {\"1989  \"}\r\n      <input onChange={({ target }) => onChange(Number(target.value))} type=\"range\" step={1} max={2018} min={1989} />\r\n      {\"  2018\"}\r\n    </div>\r\n)\r\n\r\nexport default YearRange\r\n","import Legend from \"./Legend\"\r\nexport default Legend\r\n","import React from \"react\"\r\n\r\nimport \"./Legend.css\"\r\n\r\nconst Legend = () => (\r\n  <div>\r\n    <div className=\"Legend__row\">\r\n      <div className=\"Legend__indicator Legend__indicator_common\" />\r\n      Common population\r\n    </div>\r\n    <div className=\"Legend__row\">\r\n      <div className=\"Legend__indicator Legend__indicator_men\" />\r\n      Men population\r\n    </div>\r\n    <div className=\"Legend__row\">\r\n      <div className=\"Legend__indicator Legend__indicator_women\" />\r\n      Women population\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default Legend\r\n","import Layout from \"./Layout\"\r\nexport default Layout\r\n","import React from \"react\"\r\nimport Chart from \"../Chart\"\r\nimport { compose, defaultProps, withState } from \"recompose\"\r\nimport \"./Layout.css\"\r\nimport YearRange from \"../YearRange\"\r\nimport Legend from \"../Legend\"\r\n\r\nconst Layout = ({ year, setYear, Diagram, Range, Legend }) => (\r\n  <div className=\"Layout\">\r\n    <h3 className=\"Layout__header\">Ukrainian population changes through 1989-2018</h3>\r\n    <div className=\"Layout__range-placeholder\">\r\n      <Range value={year} onChange={setYear} />\r\n    </div>\r\n    <div className=\"Layout__chart-placeholder\">\r\n      <Diagram year={year} />\r\n    </div>\r\n    <div className=\"Layout__legend-placeholder\">\r\n      <Legend />\r\n    </div>\r\n  </div>\r\n)\r\n\r\nexport default compose(\r\n  defaultProps({\r\n    Diagram: Chart,\r\n    Range: YearRange,\r\n    Legend: Legend\r\n  }),\r\n  withState(\"year\", \"setYear\", 1989)\r\n)(Layout)\r\n","import React, { Component } from \"react\"\r\nimport Layout from \"./components/Layout\"\r\n\r\nclass App extends Component {\r\n  render() {\r\n    return <Layout />\r\n  }\r\n}\r\n\r\nexport default App\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === \"localhost\" ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === \"[::1]\" ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\r\n)\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener(\"load\", () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            \"This web app is being served cache-first by a service \" +\r\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === \"installed\") {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                \"New content is available and will be used when all \" +\r\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log(\"Content is cached for offline use.\")\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error(\"Error during service worker registration:\", error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get(\"content-type\")\r\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\"No internet connection found. App is running in offline mode.\")\r\n    })\r\n}\r\n\r\nexport function unregister() {\r\n  if (\"serviceWorker\" in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport \"./index.css\"\r\nimport App from \"./App\"\r\nimport * as serviceWorker from \"./serviceWorker\"\r\n\r\nReactDOM.render(<App />, document.getElementById(\"root\"))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}