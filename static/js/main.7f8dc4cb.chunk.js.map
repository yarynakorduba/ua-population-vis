{"version":3,"sources":["components/Tooltip/Tooltip.js","components/Chart/Areas.js","components/Chart/Chart.js","components/YearRange.js","components/Layout/index.js","components/Layout/Layout.js","App.js","serviceWorker.js","index.js"],"names":["numberFormat","format","React","createContext","Consumer","Provider","Tooltip_Tooltip","withTooltip","_ref","children","props","Object","objectWithoutProperties","react_default","a","createElement","value","SVGContext","compose","fromRenderProps","withHandlers","handleTooltip","_ref2","margin","xScale","data","year","showTooltip","event","x","localPoint","selectedAge","Math","round","invert","left","tooltipData","find","_ref3","y","age","tooltipLeft","_ref4","width","height","hideTooltip","tooltipOpen","vx_group_es","vx_shape_es","top","bottom","fill","onMouseMove","onMouseLeave","from","to","stroke","strokeWidth","style","pointerEvents","strokeDasharray","tooltipContext","branch","_ref5","renderNothing","menTooltip","withProps","_ref6","yScale","men","womenTooltip","_ref7","women","commonTooltip","_ref8","_ref8$tooltipData","MenTooltipSVG","_ref9","cy","cx","r","MenTooltipHTML","_ref10","vx_tooltip_es","WomenTooltipHTML","_ref11","WomenTooltipSVG","_ref12","TotalTooltipSVG","_ref13","TotalTooltipHTML","_ref14","_ref14$tooltipData","AgeTooltipHTML","_ref15","BirthdayTooltipHTML","_ref16","MenArea","assign","className","curve","curveMonotoneX","WomenArea","CommonArea","enhance","defaultProps","right","withState","withParentSize","asyncToGenerator","regenerator_default","mark","_callee","setData","initial_data","_data","wrap","_context","prev","next","csv","Number","sent","filter","stop","this","_x","apply","arguments","renderComponent","parentHeight","parentWidth","scaleLinear","range","domain","max","map","xScaleYears","vx_grid_es","scale","numTicks","vx_axis_es","tickFormat","label","Areas_CommonArea","Areas_WomenArea","Areas_MenArea","YearRange","onChange","Fragment","textAlign","target","type","step","min","Layout","Diagram","Chart","Range","setYear","App","components_Layout","Component","Boolean","window","location","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7f8dc4cb.chunk.js","sourcesContent":["import React from \"react\"\nimport { Tooltip, withTooltip, localPoint, Bar, Group, Line } from \"@vx/vx\"\nimport { withHandlers, compose, fromRenderProps, branch, renderNothing, withProps } from \"recompose\"\nimport \"./Tooltip.css\"\nimport { format } from \"d3\"\n\nconst numberFormat = format(\"~s\")\n\nconst { Consumer, Provider } = React.createContext({})\n\nexport default withTooltip(({ children, ...props }) => <Provider value={props}>{children}</Provider>)\n\nexport const SVGContext = compose(\n  fromRenderProps(Consumer, props => props),\n  withHandlers({\n    handleTooltip: ({ margin, xScale, data, year, showTooltip }) => event => {\n      const { x } = localPoint(event)\n      const selectedAge = Math.round(xScale.invert(x - margin.left))\n      const tooltipData = data.find(({ year: y, age }) => y === year && age === selectedAge)\n      showTooltip({\n        tooltipData,\n        tooltipLeft: xScale(selectedAge)\n      })\n    }\n  })\n)(({ width, height, margin, hideTooltip, handleTooltip, tooltipOpen, tooltipLeft }) => (\n  <Group>\n    <Bar\n      x={0}\n      y={0}\n      width={width - margin.left - margin.top}\n      height={height - margin.top - margin.bottom}\n      fill={\"transparent\"}\n      onMouseMove={handleTooltip}\n      onMouseLeave={hideTooltip}\n    />\n    {tooltipOpen && (\n      <Line\n        from={{ x: tooltipLeft, y: 0 }}\n        to={{ x: tooltipLeft, y: height - margin.top - margin.bottom }}\n        stroke=\"black\"\n        strokeWidth={1}\n        style={{ pointerEvents: \"none\" }}\n        strokeDasharray=\"2,2\"\n      />\n    )}\n  </Group>\n))\n\nexport const tooltipContext = compose(\n  fromRenderProps(Consumer, props => props),\n  branch(({ tooltipOpen }) => !tooltipOpen, renderNothing)\n)\n\nconst menTooltip = compose(tooltipContext, withProps(({ yScale, tooltipData: { men } }) => ({ top: yScale(men) })))\nconst womenTooltip = compose(\n  tooltipContext,\n  withProps(({ yScale, tooltipData: { women } }) => ({ top: yScale(women) }))\n)\nconst commonTooltip = compose(\n  tooltipContext,\n  withProps(({ yScale, tooltipData: { women, men } }) => ({ top: yScale(women + men) }))\n)\n\nexport const MenTooltipSVG = menTooltip(({ top, tooltipLeft }) => (\n  <circle\n    cy={top - 1}\n    cx={tooltipLeft}\n    r={4}\n    fill=\"rgba(41, 128, 185, 1.000)\"\n    stroke=\"white\"\n    strokeWidth={2}\n    style={{ pointerEvents: \"none\" }}\n  />\n))\nexport const MenTooltipHTML = menTooltip(({ tooltipData: { men }, margin, tooltipLeft, top }) => (\n  <Tooltip top={top + 26} left={tooltipLeft - 5}>\n    {numberFormat(men)}\n  </Tooltip>\n))\n\nexport const WomenTooltipHTML = womenTooltip(({ tooltipData: { women }, margin, tooltipLeft, top }) => (\n  <Tooltip top={top + 26} left={tooltipLeft + 90}>\n    {numberFormat(women)}\n  </Tooltip>\n))\nexport const WomenTooltipSVG = womenTooltip(({ top, tooltipLeft }) => (\n  <circle\n    cy={top - 1}\n    cx={tooltipLeft}\n    r={4}\n    fill=\"rgba(231, 76, 60, 1.000)\"\n    stroke=\"white\"\n    strokeWidth={2}\n    style={{ pointerEvents: \"none\" }}\n  />\n))\n\nexport const TotalTooltipSVG = commonTooltip(({ top, tooltipLeft }) => (\n  <circle\n    cy={top - 1}\n    cx={tooltipLeft}\n    r={4}\n    fill=\"rgba(0, 0, 0, 1.000)\"\n    stroke=\"white\"\n    strokeWidth={2}\n    style={{ pointerEvents: \"none\" }}\n  />\n))\nexport const TotalTooltipHTML = commonTooltip(({ tooltipData: { women, men }, top, margin, tooltipLeft }) => (\n  <Tooltip top={top + margin.top - 35} left={tooltipLeft + margin.left - 30}>\n    {numberFormat(men + women)}\n  </Tooltip>\n))\n\nexport const AgeTooltipHTML = tooltipContext(({ tooltipData, height, margin, tooltipLeft }) => (\n  <Tooltip top={height - margin.bottom} left={tooltipLeft + margin.left - 13}>\n    {tooltipData.age}\n  </Tooltip>\n))\n\nexport const BirthdayTooltipHTML = tooltipContext(({ tooltipData, height, margin, tooltipLeft, year }) => (\n  <Tooltip top={margin.top - 20} left={tooltipLeft + margin.left - 23}>\n    {year - tooltipData.age}\n  </Tooltip>\n))\n","import React from \"react\"\nimport { AreaClosed } from \"@vx/vx\"\nimport { curveMonotoneX } from \"d3\"\n\nexport const MenArea = props => (\n  <AreaClosed {...props} className=\"Chart__men-area\" y={({ men }) => props.yScale(men)} curve={curveMonotoneX} />\n)\n\nexport const WomenArea = props => (\n  <AreaClosed {...props} className=\"Chart__women-area\" y={({ women }) => props.yScale(women)} curve={curveMonotoneX} />\n)\n\nexport const CommonArea = props => (\n  <AreaClosed\n    {...props}\n    className=\"Chart__common-area\"\n    y={({ women, men }) => props.yScale(women + men)}\n    curve={curveMonotoneX}\n  />\n)\n","import React from \"react\"\nimport { Group, withParentSize, AxisBottom, AxisLeft, GridRows, GridColumns, AxisTop, AxisRight } from \"@vx/vx\"\nimport { scaleLinear, csv, max, format } from \"d3\"\n\nimport { branch, compose, defaultProps, renderComponent, withProps, withState } from \"recompose\"\n\nimport Tooltip, {\n  SVGContext,\n  MenTooltipHTML,\n  WomenTooltipHTML,\n  TotalTooltipHTML,\n  MenTooltipSVG,\n  WomenTooltipSVG,\n  TotalTooltipSVG,\n  AgeTooltipHTML,\n  BirthdayTooltipHTML\n} from \"../Tooltip/Tooltip\"\nimport \"./Chart.css\"\nimport { CommonArea, MenArea, WomenArea } from \"./Areas\"\n\nconst Chart = ({\n  parentWidth: width,\n  parentHeight: height,\n  margin,\n  data,\n\n  xScale,\n  xScaleYears,\n\n  yScale,\n\n  year\n}) => (\n  <div className=\"Chart\">\n    <Tooltip width={width} height={height} margin={margin} xScale={xScale} yScale={yScale} data={data} year={year}>\n      <svg width={width} height={height}>\n        <Group top={margin.top} left={margin.left}>\n          <GridRows scale={yScale} width={width - margin.left - margin.right} />\n          <GridColumns numTicks={20} scale={xScale} height={height - margin.top - margin.bottom} />\n\n          <AxisTop numTicks={20} scale={xScaleYears} top={0} tickFormat={format(\"\")} />\n          <AxisBottom numTicks={20} scale={xScale} top={height - margin.bottom - margin.top} label=\"Age\" />\n          <AxisLeft scale={yScale} label=\"Population\" tickFormat={format(\"~s\")} />\n          <AxisRight\n            left={width - margin.left - margin.right}\n            scale={yScale}\n            label=\"Population\"\n            tickFormat={format(\"~s\")}\n          />\n\n          <CommonArea data={data} yScale={yScale} x={({ age }) => xScale(age)} />\n          <WomenArea data={data} yScale={yScale} x={({ age }) => xScale(age)} />\n          <MenArea data={data} yScale={yScale} x={({ age }) => xScale(age)} />\n\n          <SVGContext />\n          <MenTooltipSVG />\n          <WomenTooltipSVG />\n          <TotalTooltipSVG />\n        </Group>\n      </svg>\n\n      <AgeTooltipHTML />\n      <BirthdayTooltipHTML />\n\n      <MenTooltipHTML />\n      <WomenTooltipHTML />\n      <TotalTooltipHTML />\n    </Tooltip>\n  </div>\n)\n\nconst enhance = compose(\n  defaultProps({\n    margin: { top: 40, bottom: 40, left: 80, right: 40 },\n    year: 1989\n  }),\n  withState(\"data\", \"setData\"),\n  withParentSize,\n  withProps(async ({ data, setData }) => {\n    if (!data) {\n      const initial_data = await csv(\"population_by_age_sex_year.csv\", ({ age, men, women, year }) => ({\n        age: Number(age),\n        men: Number(men),\n        women: Number(women),\n        year: Number(year)\n      }))\n      const data = initial_data.filter(({ age }) => age >= 0)\n      setData(data)\n    }\n  }),\n  branch(({ data }) => !data, renderComponent(() => \"Loading...\")),\n\n  withProps(({ data, parentHeight: height, parentWidth: width, margin }) => ({\n    yScale: scaleLinear()\n      .range([height - margin.top - margin.bottom, 0])\n      .domain([0, max(data.map(({ men, women }) => men + women)) + 100000])\n  })),\n  withProps(({ data, year }) => ({ data: data.filter(data => data.year === year) })),\n  withProps(({ data, parentWidth: width, margin, year }) => ({\n    xScale: scaleLinear()\n      .range([0, width - margin.left - margin.right])\n      .domain([0, 79]),\n\n    xScaleYears: scaleLinear()\n      .range([0, width - margin.left - margin.right])\n      .domain([year, year - 79])\n  }))\n)\n\nexport default enhance(Chart)\n","import React from \"react\"\n\nconst YearRange = ({ onChange, value }) => (\n  <>\n    <div style={{ textAlign: \"center\" }}>\n      <h4>{value}</h4>\n      {\"1989  \"}\n      <input onChange={({ target }) => onChange(Number(target.value))} type=\"range\" step={1} max={2018} min={1989} />\n      {\"  2018\"}\n    </div>\n  </>\n)\n\nexport default YearRange\n","import Layout from \"./Layout\"\nexport default Layout\n","import React from \"react\"\nimport Chart from \"../Chart\"\nimport { compose, defaultProps, withState } from \"recompose\"\nimport \"./Layout.css\"\nimport YearRange from \"../YearRange\"\n\nconst Layout = ({ year, setYear, Diagram, Range }) => (\n  <div className=\"Layout\">\n    <div className=\"Layout__range-placeholder\">\n      <Range value={year} onChange={setYear} />\n    </div>\n    <div className=\"Layout__chart-placeholder\">\n      <Diagram year={year} />\n    </div>\n  </div>\n)\n\nexport default compose(\n  defaultProps({\n    Diagram: Chart,\n    Range: YearRange\n  }),\n  withState(\"year\", \"setYear\", 1989)\n)(Layout)\n","import React, { Component } from \"react\"\nimport Layout from \"./components/Layout\"\n\nclass App extends Component {\n  render() {\n    return <Layout />\n  }\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === \"[::1]\" ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n)\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n              \"worker. To learn more, visit http://bit.ly/CRA-PWA\"\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker == null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                  \"tabs for this page are closed. See http://bit.ly/CRA-PWA.\"\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\")\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error(\"Error during service worker registration:\", error)\n    })\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\")\n      if (response.status === 404 || (contentType != null && contentType.indexOf(\"javascript\") === -1)) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\"No internet connection found. App is running in offline mode.\")\n    })\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport \"./index.css\"\nimport App from \"./App\"\nimport * as serviceWorker from \"./serviceWorker\"\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister()\n"],"sourceRoot":""}